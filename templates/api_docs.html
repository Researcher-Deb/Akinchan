<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - Akinchan Clinical Trial Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .endpoint-card {
            transition: all 0.3s ease;
        }
        .endpoint-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .method-get { background-color: #10b981; }
        .method-post { background-color: #3b82f6; }
        .method-put { background-color: #f59e0b; }
        .method-delete { background-color: #ef4444; }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-8 shadow-xl">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-4xl font-bold mb-2">üî¨ Akinchan API Documentation</h1>
                    <p class="text-indigo-100">Clinical Trial Simulator & Predictor - RESTful API v1.0</p>
                </div>
                <a href="/" class="bg-white text-indigo-600 px-6 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition">
                    ‚Üê Home
                </a>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex space-x-6 py-4 overflow-x-auto">
                <a href="#authentication" class="text-gray-700 hover:text-indigo-600 font-semibold whitespace-nowrap">üîê Authentication</a>
                <a href="#simulation" class="text-gray-700 hover:text-indigo-600 font-semibold whitespace-nowrap">üéØ Simulation</a>
                <a href="#prediction" class="text-gray-700 hover:text-indigo-600 font-semibold whitespace-nowrap">üìä Prediction</a>
                <a href="#chat" class="text-gray-700 hover:text-indigo-600 font-semibold whitespace-nowrap">üí¨ Chat</a>
                <a href="#trials" class="text-gray-700 hover:text-indigo-600 font-semibold whitespace-nowrap">üìã Trials</a>
                <a href="#interactive" class="text-gray-700 hover:text-indigo-600 font-semibold whitespace-nowrap">üöÄ Interactive Docs</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 py-12">
        <!-- Introduction -->
        <section class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Getting Started</h2>
            <p class="text-gray-700 mb-4">
                The Akinchan API provides powerful endpoints for clinical trial simulation, prediction, and management. 
                All API responses are in JSON format.
            </p>
            <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 rounded">
                <p class="font-semibold text-indigo-900">Base URL:</p>
                <code class="text-indigo-700">http://localhost:8000/api</code>
            </div>
        </section>

        <!-- Authentication Section -->
        <section id="authentication" class="mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">üîê Authentication</h2>
            
            <!-- Login -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-post text-white px-3 py-1 rounded-md font-bold text-sm mr-3">POST</span>
                    <code class="text-lg font-mono text-gray-800">/api/login</code>
                </div>
                <p class="text-gray-700 mb-4">Authenticate user and receive JWT token</p>
                
                <div class="bg-gray-50 rounded-lg p-4 mb-4">
                    <p class="font-semibold text-gray-800 mb-2">Request Body:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "username": "user1",
  "password": "Cloud_Run-25"
}</code></pre>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                    <p class="font-semibold text-gray-800 mb-2">Response:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "user_id": "1",
    "username": "user1",
    "email": "user1@example.com"
  }
}</code></pre>
                </div>
            </div>

            <!-- Register -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-post text-white px-3 py-1 rounded-md font-bold text-sm mr-3">POST</span>
                    <code class="text-lg font-mono text-gray-800">/api/register</code>
                </div>
                <p class="text-gray-700 mb-4">Register a new user account</p>
                
                <div class="bg-gray-50 rounded-lg p-4">
                    <p class="font-semibold text-gray-800 mb-2">Request Body:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "username": "newuser",
  "email": "newuser@example.com",
  "password": "SecurePassword123",
  "first_name": "John",
  "last_name": "Doe"
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Simulation Section -->
        <section id="simulation" class="mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">üéØ Simulation</h2>
            
            <!-- Run Simulation -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-post text-white px-3 py-1 rounded-md font-bold text-sm mr-3">POST</span>
                    <code class="text-lg font-mono text-gray-800">/api/simulate</code>
                </div>
                <p class="text-gray-700 mb-4">Run a clinical trial simulation</p>
                
                <div class="bg-gray-50 rounded-lg p-4 mb-4">
                    <p class="font-semibold text-gray-800 mb-2">Request Body:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "trial_id": "NCT04521789",
  "user_id": "1",
  "username": "user1"
}</code></pre>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                    <p class="font-semibold text-gray-800 mb-2">Response:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "success": true,
  "simulation_id": "study_of_immunox_101_7842",
  "patients_enrolled": 200,
  "patients_completed": 165,
  "dropout_rate": 0.175,
  "success_probability": 0.73,
  "estimated_cost": 16825000.0
}</code></pre>
                </div>
            </div>

            <!-- Get Simulation -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-get text-white px-3 py-1 rounded-md font-bold text-sm mr-3">GET</span>
                    <code class="text-lg font-mono text-gray-800">/api/simulation/{simulation_id}</code>
                </div>
                <p class="text-gray-700 mb-4">Get detailed results for a specific simulation</p>
                
                <div class="bg-gray-50 rounded-lg p-4">
                    <p class="font-semibold text-gray-800 mb-2">Response:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "success": true,
  "simulation": {
    "simulation_id": "study_of_immunox_101_7842",
    "patients_enrolled": 200,
    "patients_completed": 165,
    "dropout_rate": 0.175,
    "success_probability": 0.73,
    "confidence_interval": "(0.58, 0.88)"
  }
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Chat Section -->
        <section id="chat" class="mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">üí¨ Chat Assistant</h2>
            
            <!-- Send Message -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-post text-white px-3 py-1 rounded-md font-bold text-sm mr-3">POST</span>
                    <code class="text-lg font-mono text-gray-800">/api/chat/message</code>
                </div>
                <p class="text-gray-700 mb-4">Send a message to the AI chat assistant (supports English, Hindi, Bengali)</p>
                
                <div class="bg-gray-50 rounded-lg p-4 mb-4">
                    <p class="font-semibold text-gray-800 mb-2">Request Body (Form Data):</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>message: "Show my simulations"
user_id: "1"
username: "user1"</code></pre>
                </div>

                <div class="bg-gray-50 rounded-lg p-4">
                    <p class="font-semibold text-gray-800 mb-2">Response:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "success": true,
  "response": "Here are your simulations: study_of_immunox_101_7842...",
  "language": "en",
  "action_type": "chat"
}</code></pre>
                </div>
            </div>

            <!-- Get Chat History -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-get text-white px-3 py-1 rounded-md font-bold text-sm mr-3">GET</span>
                    <code class="text-lg font-mono text-gray-800">/api/chat/history?user_id={user_id}</code>
                </div>
                <p class="text-gray-700 mb-4">Retrieve chat history for a user</p>
            </div>

            <!-- Get User Simulations -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-get text-white px-3 py-1 rounded-md font-bold text-sm mr-3">GET</span>
                    <code class="text-lg font-mono text-gray-800">/api/chat/user-simulations?user_id={user_id}</code>
                </div>
                <p class="text-gray-700 mb-4">Get all simulations for a user (for chat context)</p>
            </div>
        </section>

        <!-- Trials Section -->
        <section id="trials" class="mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">üìã Clinical Trials</h2>
            
            <!-- Get All Trials -->
            <div class="endpoint-card bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex items-center mb-4">
                    <span class="method-get text-white px-3 py-1 rounded-md font-bold text-sm mr-3">GET</span>
                    <code class="text-lg font-mono text-gray-800">/api/trials</code>
                </div>
                <p class="text-gray-700 mb-4">Get list of all available clinical trials</p>
                
                <div class="bg-gray-50 rounded-lg p-4">
                    <p class="font-semibold text-gray-800 mb-2">Response:</p>
                    <pre class="bg-gray-800 text-green-400 p-4 rounded-lg overflow-x-auto"><code>{
  "success": true,
  "trials": [
    {
      "trial_id": "NCT04521789",
      "trial_name": "Study of ImmunoX-101 in Advanced Melanoma",
      "phase": "Phase II",
      "drug_name": "ImmunoX-101"
    }
  ]
}</code></pre>
                </div>
            </div>
        </section>

        <!-- Interactive Docs -->
        <section id="interactive" class="mb-12">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl shadow-2xl p-8 text-white">
                <h2 class="text-3xl font-bold mb-4">üöÄ Interactive API Documentation</h2>
                <p class="text-indigo-100 mb-6">
                    For interactive API testing with Swagger UI and detailed schema documentation, visit:
                </p>
                <div class="flex space-x-4">
                    <a href="/api/docs" target="_blank" class="bg-white text-indigo-600 px-6 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition inline-block">
                        üìñ Swagger UI Docs
                    </a>
                    <a href="/api/redoc" target="_blank" class="bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-800 transition inline-block">
                        üìö ReDoc Documentation
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-400">¬© 2025 Akinchan Clinical Trial Platform - API Documentation v1.0</p>
        </div>
    </footer>
</body>
</html>
